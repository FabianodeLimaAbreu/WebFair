<html>
    <head>
        <title>Calling Web Service from jQuery</title>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
        <script type="text/javascript">
            function strToJson(str) {
                eval("var x = " + str + ";");
                return JSON.stringify(x);
            }
            $(document).ready(function () {
	          	$("#btnCallWebService").click(function (event) {
	          	    var wsUrl = "../Service.asmx?op=ListUsers";
	                
	                var soapRequest =
	                '<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ListUsers xmlns="http://tempuri.org/" /></soap:Body></soap:Envelope>';
	                $.support.cors=true;
	                $.ajax({
	                       type: "POST",
	                       url: wsUrl,
                           crossDomain: true,
	                       contentType: "text/xml",
	                       dataType: "xml",
	                       data: soapRequest,
	                       /*beforeSend:function(xhr){
	                       		xhr.withCredentials=false;
	                       },
	                       xhrFields:{
	                       	withCredentials:false
	                       },*/
	                       success: processSuccess,
	                       error: processError
	                       });
	                });
	          	});
            
            function processSuccess(data, status, req) {
                if (status == "success") {
                    var data = $(req.responseXML).find("ListUsersResult").text();
                    $("#response").text(data);
                    //var jsonPretty = JSON.parse(jsonString);
                    alert("ok ");

                }
            }
            
            function processError(data, status, req) {
                alert(req.responseText + " " + status);
            }
            /*$(document).ready(function(){
            	$.getJSON("http://189.126.197.169/node/server/index2.js?service=SearchMaterial.svc/ebook/&query=Tule?callback=?",function(a){
            		console.dir(a);
            	});
            });*/
            
            </script>
    </head>
    <body>
        <h3>
            Calling Web Services with jQuery/AJAX
        </h3>
        <input id="btnCallWebService" value="Call web service" type="button" />
        <div id="response" />
    </body>
</html>