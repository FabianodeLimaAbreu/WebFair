<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>DocStrap Source: app/content.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">DocStrap</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="module-App.html">App</a>
						</li>
						
						<li>
							<a href="module-Box.html">Box</a>
						</li>
						
						<li>
							<a href="module-Detail.html">Detail</a>
						</li>
						
						<li>
							<a href="module-Login.html">Login</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="App.html">App</a>
						</li>
						
						<li>
							<a href="Box.html">Box</a>
						</li>
						
						<li>
							<a href="Content.html">Content</a>
						</li>
						
						<li>
							<a href="Detail.html">Detail</a>
						</li>
						
						<li>
							<a href="Login.html">Login</a>
						</li>
						
						<li>
							<a href="Menu.html">Menu</a>
						</li>
						
						<li>
							<a href="Modal.html">Modal</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: app/content.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">/**
*@fileOverview Content's page with Modal, Content and Boxes classes
* @module Content
* @module Modal
* @module Box
*
*/

/**
* Modal's class and actions
* @exports Modal
* @constructor
*/
window.Modal = Spine.Controller.sub({
  events:{
    "click .bclose":"close"    
  },

  /**
  * `OK Set thed loading state`
  * @memberOf Modal#
  * @param {Boolean} a. If true show mask, else hide mask.
  */
  close:function(a){
    a.preventDefault();
    this.el.fadeOut('fast');
  },
  open:function() {
    this.el.fadeIn('fast');
    $(document).keypress(function(e) { 
      if (e.keyCode == 27) {
        $('#modal').fadeOut('fast');
      }
    });
  },
});

/**
* Content's class
* @exports Content
* @constructor
*/
window.Content = Spine.Controller.sub({
  elements:{
    ".viewport":"table",
    ".table-content .tbody":"tbody",
    ".table-container":"tcontainer"
  },

  /**
  * `OK Set thed loading state`
  * @memberOf Content#
  * @param {Boolean} a. If true show mask, else hide mask.
  */
  changeview:function(a) {
    this.create = this[a];
    "images" === a ? this.itens &amp;&amp; this.clean() : this.itens &amp;&amp; this.reset();
    this.tbody.empty();
    this.table.empty();
  }, images:function(a) {
    this.tcontainer.hide();
    this.table.show();
    a.appendTo(this.table);
    this.itens = this.el.find(".thumbnail");
  }, list:function(a) {
    this.tcontainer.show();
    this.tbody.show();
    this.table.hide();
    // this.tbody.show();
    a.appendTo(this.tbody);
    this.itens = this.tbody.find('tr');
  }, clean:function() {
    this.itens.remove();
    this.itens = $([]);
  }, reset:function() {
    this.table.hide();
    // this.tbody.hide();
    // this.bread.fadeOut();
    this.page = 0;
    this.clean();
  }, init:function() {
    // (this.type !== "CLIENTE" &amp;&amp; this.type !== "VISITANTE") ? this.table.addClass('cseven') : this.table.addClass('cfive');
    this.itens = $([]);
    this.page = 0;
    this.tutpage = 1;
    // this.el.disableSelection &amp;&amp; this.el.disableSelection();
  }
  });

/**
* Box's class and actions like render and change by images or list
* @exports Box
* @constructor
*/
window.Box = Spine.Controller.sub({init:function() {
  this.template = this[this.view];
  }, elements:{
      a:"button"    
  }, 

  /**
  * `OK Set thed loading state`
  * @memberOf Box#
  * @param {Boolean} a. If true show mask, else hide mask.
  */
  render:function(a) {
    a &amp;&amp; (this.item = a);
    this.html(this.template(this.item));
    "images" === this.view &amp;&amp; this.el.find(".thumbnail").prepend(this.url);  
    return this;
  }, images:function(a) {
    var detail;
    this.el.addClass('col col-sm-1 col-sm-2 col-md-1 col-md-2 col-md-3 col-lg-1 col-lg-2');
    // PAI
    var $hash = window.location.hash.split("/")[0].replace('#','');
    if($hash=='artigos-pai'){
      detail=a.STORE+"/"+a.TYPE_MAT+"/"+a.MATNR;
      return"&lt;a href='#detail/"+detail+"'>&lt;li class='thumbnail'>&lt;div class='caption'>&lt;h2>"+ a.MATNR +"&lt;/h2>&lt;h3>"+ a.MAKTX +"&lt;/h3>&lt;/div>&lt;/li>&lt;/a>";
    }
    // FILHO
    else{
      var aData   = a.DATA_CHEGADA;
      // Breadcrumb, nome do pai
      var bread = $('.bread-colec').find("a").text();
      bread = bread.split("- ")[2];
      detail=bread+"/"+a.MATNR;
      return"&lt;a href='#detail/"+detail+"'>&lt;li class='thumbnail big'>&lt;div class='caption'>&lt;h2>"+ a.MATNR +"&lt;/h2>&lt;h3>"+ a.MAKTX +"&lt;/h3>&lt;ul>&lt;li class='half'>PE: "+parseInt(a.PE)+"&lt;/li>|&lt;li class='half right'>ATC: "+parseInt(a.ATC)+"&lt;/li>&lt;li>Data: "+convertDate(aData)+"&lt;/li>&lt;/ul>&lt;/p>&lt;span>Preço: R$ "+numDecimal(a.PRECO.toString().replace(".",",")+"  |  $ ")+numDecimal(a.PRECO_DOLAR.toString().replace(".",","))+"&lt;/span>&lt;/div>&lt;/li>&lt;/a>";
    }
  }, list:function(a) {
    var detail;
    detail=a.STORE+"/"+a.TYPE_MAT+"/"+a.MATNR;
    // PAI
    var $hash = window.location.hash.split("/")[0].replace('#','');
    if($hash=='artigos-pai'){
      $('table').find('.tchildren').addClass('hide');
      $('table').find('.tpai').removeClass('hide');
      return "&lt;td>&lt;a href='#detail/"+detail+"' >"+ a.MAKTX +"&lt;/td>&lt;td class='tcode'>&lt;a href='#detail/"+detail+"' >"+ a.MATNR +"&lt;/a>&lt;/td>";
    }

    // FILHO
    else{
      var aData   = a.DATA_CHEGADA;
      var bread = $('.bread-colec').find("a").text();
      var preco = a.PRECO.toString().replace(".",",");
      bread = bread.split("- ")[2];
      detail=bread+"/"+a.MATNR;      
      
      $('table').find('.tpai').addClass('hide');
      $('table').find('.tchildren').removeClass('hide');
      return"&lt;td>&lt;a href='#detail/"+detail+"' >"+ a.MAKTX +"&lt;/a>&lt;/td>&lt;td>&lt;a href='#detail/"+detail+"' >"+ a.MATNR +"&lt;/a>&lt;/td>&lt;td>&lt;a href='#detail/"+detail+"' >"+a.PE+"&lt;/a>&lt;/td>&lt;td>&lt;a href='#detail/"+detail+"' >"+a.ATC+"&lt;/a>&lt;/td>&lt;td>&lt;a href='#detail/"+detail+"' >R$ "+numDecimal(preco)+"  |  $ "+numDecimal(a.PRECO_DOLAR.toString().replace(".",","))+"&lt;/a>&lt;/td>&lt;td class='tcode'>&lt;a href='#detail/"+detail+"' >"+convertDate(aData)+"&lt;/a>&lt;/td>";
    }
  }
});</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		DocStrap Copyright © 2012-2014 The contributors to the JSDoc3 and DocStrap projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0</a>
		on Tue Jun 23rd 2015 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
