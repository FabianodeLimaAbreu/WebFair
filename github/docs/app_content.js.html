<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>DocStrap Source: app/content.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">DocStrap</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="module-App.html">App</a>
						</li>
						
						<li>
							<a href="module-Box.html">Box</a>
						</li>
						
						<li>
							<a href="module-Detail.html">Detail</a>
						</li>
						
						<li>
							<a href="module-Login.html">Login</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="App.html">App</a>
						</li>
						
						<li>
							<a href="Box.html">Box</a>
						</li>
						
						<li>
							<a href="Content.html">Content</a>
						</li>
						
						<li>
							<a href="Detail.html">Detail</a>
						</li>
						
						<li>
							<a href="Login.html">Login</a>
						</li>
						
						<li>
							<a href="Menu.html">Menu</a>
						</li>
						
						<li>
							<a href="Modal.html">Modal</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: app/content.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">window.Spotlight = Spine.Controller.sub({
  elements:{
    //dd:"buttons"
  }, 
  events:{
    //"click .spotlight button":"select"
  }, 
  select:function(a) {
  if("object" === typeof a) {
    a.preventDefault(), a = $(a.target);
  }else {
    return!1;
  }
  //this.input.val(this.list + a.text()).focus().trigger("submit");
  this.close();
}, over:function(a) {
  a.addClass("sel");
  this.input.val(a.text()).focus();
}, close:function(a) {
  this.list = "";
  this.id = -1;
  this.doc.unbind("click");
  this.el.empty().fadeOut();
  return!1;
}, open:function() {
  var i,length,html="";
  length=this.forn.length;
  this.doc.unbind("click").bind("click", this.proxy(this.close));
  if(2 > length) {
      this.close();
      return!1;
  }
  for(i=0;i&lt;length;i++){
    html+="&lt;li>&lt;button type='button' name='"+this.forn[i].FORN_ID+"'>"+this.forn[i].FORN_DESC+"&lt;/button>&lt;/li>";
  }
  this.el.html(html).show();
  $(".spotlight button").bind("click",this.proxy(this.select));
}, hint:function(a, b) {
  console.log("fdsfds");
  var c, d, e = [];
  this.el.empty();
  if(!a.length)
    return !1;
  this.doc.unbind("click").bind("click", this.proxy(this.close));
  d = 26 * a.length + 10;
  e.push("&lt;dt style='height:" + d + "px'>Você quis dizer:&lt;/dt>");
    for(c = 0;c &lt; a.length;c++) {
        e.push("&lt;dd>" + a[c].WORD.capitalize() + "&lt;/dd>");
    }
    this.el.html(e.join(" ")).fadeIn();
    this.buttons = this.el.find("dd");
}, arrow:function(a) {
  a = a || window.event;
  this.buttons=$(".spotlight button");
  this.buttons.removeClass("sel");
  switch(a.keyCode) {
    case 38:
      this.id--;
      this.id &lt; -this.buttons.length &amp;&amp; (this.id = 0);
      a = this.buttons.eq(this.id);
      this.over(a);
      break;
    case 40:
      this.id++, this.id > this.buttons.length - 1 &amp;&amp; (this.id = 0), a = this.buttons.eq(this.id), this.over(a);
  }
  return !1;
}, gettips: function(a){
    $.getJSON(nodePath + "index.js?service=SearchMaterial.svc/searchTermo/&amp;query=" + a + "?callback=?", this.proxy(this.hint));
}, init:function() {
  this.forn=[];
  this.input=null;
  this.id = -1;
  this.doc = $(document);
  /*this.spot = [];
  this.list = "";
  this.id = 0;
  this.input = null;
  this.doc = $(document);
  $.getJSON("/library/ajax/spotlight.js", this.proxy(function(a) {
    this.spot = a;
  }));
  this.el.disableSelection &amp;&amp; this.el.disableSelection();*/
}});

/**
*@fileOverview Content's page with Modal, Content and Boxes classes
* @module Content
* @module Modal
* @module Box
*
*/

/**
* Modal's class and actions
* @exports Modal
* @constructor
*/
window.Modal = Spine.Controller.sub({
  events:{
    /*"click .bclose":"close" */
  },

  /**
  * `OK Set thed loading state`
  * @memberOf Modal#
  * @param {Boolean} a. If true show mask, else hide mask.
  */
  close:function(a){
    a.preventDefault();
    this.el.fadeOut('fast');
  },
  open:function() {
    this.el.fadeIn('fast');
    $(document).keypress(function(e) { 
      if (e.keyCode == 27) {
        $('#modal').fadeOut('fast');
      }
    });
  },
});

/**
* Content's class
* @exports Content
* @constructor
*/
window.Content = Spine.Controller.sub({
  elements:{
    /*".viewport":"table",
    ".table tbody":"tbody",
    ".floatThead":"tcontainer"*/
  },

  /**
  * `OK Set thed loading state`
  * @memberOf Content#
  * @param {Boolean} a. If true show mask, else hide mask.
  */
  changeview:function(a) {
    //console.log("1");
    if(typeof this.table !== "object"){
      this.table=$(".viewport");
      this.tbody=$(".table tbody");
      this.tcontainer=$(".floatThead");
      this.bedit=$(".bedit");
    }
    this.create = this[a];
    "images" === a ? this.itens &amp;&amp; this.bedit.removeClass("unable") &amp;&amp; this.clean(): this.itens &amp;&amp; this.bedit.addClass("unable") &amp;&amp; this.reset();
    this.tbody.empty();
    this.table.empty();
  }, images:function(a) {
    $("body").attr("class","").addClass("images");
    a.appendTo(this.table);
    this.itens = this.table.find(".thumbnail");
  }, list:function(a) {
    $("body").attr("class","").addClass("list");
    a.appendTo(this.tbody);
    this.itens = this.tbody.find('tr');
  }, clean:function() {
    this.itens.remove();
    this.itens = $([]);
  }, reset:function() {
    /*this.table.hide();
    this.tbody.hide();*/
    //this.bread.fadeOut();
    this.page = "";
    this.clean();
  }, init:function() {
    // (this.type !== "CLIENTE" &amp;&amp; this.type !== "VISITANTE") ? this.table.addClass('cseven') : this.table.addClass('cfive');
    this.itens = $([]);
    this.page = 0;
    this.tutpage = 1;
    // this.el.disableSelection &amp;&amp; this.el.disableSelection();
  }
  });

/**
* Box's class and actions like render and change by images or list
* @exports Box
* @constructor
*/
window.Box = Spine.Controller.sub({init:function() {
  this.template = this[this.view];
  }, elements:{
      a:"button"    
  }, 

  /**
  * `OK Set thed loading state`
  * @memberOf Box#
  * @param {Boolean} a. If true show mask, else hide mask.
  */
  render:function(a) {
    a &amp;&amp; (this.item = a);
    this.html(this.template(this.item));
    "images" === this.view &amp;&amp; this.el.find(".thumbnail").prepend(this.url);  
    return this;
  }, images:function(a) {
    var homologado,note,fisica,fav,email,annex,status,result="";
    this.el.addClass('col col-small col-large');
    homologado= a.AMOS_HOMOLOGAR ? "has":"nothas";
    note= a.NOTES.length   ? true:false;
    fisica= a.FLAG_FISICA ? "has":"nothas";
    fav= a.FLAG_PRIORIDADE ? "has":"nothas";
    annex= a.AMOS_HOMOLOGAR ? true:false;
    status= a.AMOS_STATUS ? "complet":"incomplet";
    email= a.AMOS_ENV_EMAIL? "sent":"disabled";

    //Creating result
    result+="&lt;a href='#detail/"+a.AMOS_ID+"'>&lt;div class='thumbnail'>&lt;button type='button' name='#"+a.AMOS_ID+"' class='icon'>&lt;/button>"; //bselection
    result+="&lt;div class='caption'>&lt;div class='caption-upside'>&lt;ul class='caption-icons'>&lt;li>&lt;button type='button' class='caption-icons-icon justit bstatus "+status+"'>&lt;/button>&lt;/li>&lt;li>&lt;button type='button' class='caption-icons-icon justit bemail "+email+"'>&lt;/button>&lt;/li>";
    result+="&lt;li>&lt;button type='button' class='caption-icons-icon justit bhomologado "+homologado+"'>&lt;/button>&lt;/li>"
    if(note){
      result+="&lt;li class='tooltip tooltip-selectable'>&lt;button type='button' class='caption-icons-icon justit bnote'>&lt;/button>&lt;ul class='tooltip-content notepad notepadmess rightless'>&lt;li class='tooltip-title'>&lt;p class='tooltip-item'>Anotações&lt;/p>&lt;/li>";
      for(i=0;i&lt;a.NOTES.length;i++){
        result+="&lt;li>&lt;article>&lt;div class='notepad-note blockquote'>&lt;p>"+a.NOTES[i].CREATE_DATE+/*a.NOTES[i].CREATE_DATE*/" | "+ a.NOTES[i].USU_NOME+" | "+a.NOTES[i].OBJ_ID+"&lt;/p>&lt;p>"+a.NOTES[i].SEGM_DESC+" - Assunto:&lt;/p>&lt;p>"+a.NOTES[i].NOTA_DESC+"&lt;/p>&lt;/div>&lt;div class='blockquote'>&lt;button type='button' class='tooltip-item caption-icons-icon btrash-big' id='"+a.NOTES[i].NOTA_ID+"' name='"+a.NOTES[i].USU_COD+"'>&lt;/button>&lt;/div>&lt;/article>&lt;/li>"
      }
      result+="&lt;/ul>&lt;/li>"
    }
    result+="&lt;li>&lt;button type='button' class='caption-icons-icon justit bfisica "+fisica+"'>&lt;/button>&lt;/li>&lt;li>&lt;button type='button' class='caption-icons-icon justit bfav "+fav+"'>&lt;/button>&lt;/li>&lt;/ul>";
    result+="&lt;div class='caption-desc'>&lt;p>&lt;span>Código da Amostra: &lt;/span>&lt;span>"+a.AMOS_ID+"&lt;/span>&lt;/p>&lt;p>&lt;span>Fornecedor: &lt;/span>&lt;span>"+a.FORN_DESC+"&lt;/span>&lt;/p>&lt;p>&lt;span>Data: &lt;/span>&lt;span>"+a.CREATE_DATE+"&lt;/span>&lt;/p>";
    if(annex){
      result+="&lt;button type='button' class='icon bannex'>&lt;/button>";
    }
    result+="&lt;/div>&lt;/div>&lt;div class='caption-downside'>&lt;ul>";
    //Por Enquanto
    result+="&lt;li>Plano&lt;/li>&lt;li>Tinto&lt;/li>&lt;li>Transparências&lt;/li>&lt;li>Bordado&lt;/li>&lt;li>Viscose&lt;/li>&lt;li>Plano&lt;/li>&lt;li>Tinto&lt;/li>&lt;li>Transparências&lt;/li>&lt;li>Bordado&lt;/li>&lt;li>Viscose&lt;/li>";
    result+="&lt;/ul>&lt;/div>&lt;/div>&lt;/div>&lt;/a>";
    return result;
  }, list:function(a) {
    console.dir(a);
    var homologado,note,fisica,fav,email,annex,status,result="",i;
    this.el.addClass('col col-small col-large');
    homologado= a.AMOS_HOMOLOGAR ? "has":"nothas";
    note= a.NOTES.length   ? true:false;
    fisica= a.FLAG_FISICA ? "has":"nothas";
    fav= a.FLAG_PRIORIDADE ? "has":"nothas";
    annex= a.AMOS_HOMOLOGAR ? true:false;
    status= a.AMOS_STATUS ? "complet":"incomplet";
    email= a.AMOS_ENV_EMAIL? "sent":"disabled";

    //Creating result
    result+="&lt;td>&lt;button type='button' name='"+a.AMOS_ID+"'' class='icon bselection' name='"+a.AMOS_ID+"''>&lt;/button>&lt;/td>&lt;td>"+a.FORN_DESC+"&lt;/td>&lt;td>"+a.AMOS_ID+"&lt;/td>&lt;td>"+a.CREATE_DATE+"&lt;/td>&lt;td>&lt;button type='button' class='caption-icons-icon justit bfisica "+fisica+"'>&lt;/button>&lt;/td>&lt;td>"+a.AMOS_PRECO+"&lt;/td>&lt;td>"+a.AMOS_COTACAO_KG+"&lt;/td>&lt;td>&lt;button type='button' class='caption-icons-icon justit bfav "+fav+"'>&lt;/button>&lt;/td>&lt;td>&lt;button type='button' class='caption-icons-icon justit bhomologado "+homologado+"'>&lt;/button>&lt;/td>";
    if(note){
      result+="&lt;td class='tooltip tooltip-selectable'>&lt;button type='button' class='caption-icons-icon justit bnote'>&lt;/button>&lt;ul class='tooltip-content notepad notepadmess col-large'>&lt;li class='tooltip-title'>&lt;p class='tooltip-item'>Anotações&lt;/p>&lt;/li>";
      for(i=0;i&lt;a.NOTES.length;i++){
        result+="&lt;li>&lt;article>&lt;div class='notepad-note blockquote'>&lt;p>"+"12/15/2015"+/*a.NOTES[i].CREATE_DATE*/" | "+ a.NOTES[i].USU_NOME+" | "+a.NOTES[i].OBJ_ID+"&lt;/p>&lt;p>"+a.NOTES[i].SEGM_DESC+" - Assunto:&lt;/p>&lt;p>"+a.NOTES[i].NOTA_DESC+"&lt;/p>&lt;/div>&lt;div class='blockquote'>&lt;button type='button' class='tooltip-item caption-icons-icon btrash-big' id='"+a.NOTES[i].NOTA_ID+"' name='"+a.NOTES[i].USU_COD+"'>&lt;/button>&lt;/div>&lt;/article>&lt;/li>"
      }
      result+="&lt;/ul>&lt;/td>"
    }
    else{
      result+="&lt;td>&lt;/td>";
    }
    annex ? result+="&lt;td>&lt;button type='button' class='icon bannex'>&lt;/button>&lt;/td>" : result+="&lt;td>&lt;/td>";
    result+="&lt;td>&lt;button type='button' class='caption-icons-icon justit bemail "+email+"'>&lt;/button>&lt;/td>&lt;td>"+a.TECI_DESC+"&lt;/td>&lt;td>"+a.BASE_DESC+"&lt;/td>&lt;td>"+a.GRUP_DESC+"&lt;/td>&lt;td>"+a.SUBG_DESC+"&lt;/td>";
    if(a.COMPOSITIONS.length){
      var concat=[];
      result+="&lt;td>";
      for(i=0;i&lt;a.COMPOSITIONS.length;i++){
        concat.push(a.COMPOSITIONS[i].COMP_DESC);
      }
      concat.join();
      result+=concat+"&lt;/td>";
    }
    else{
      result+="&lt;td>&lt;/td>";
    }
    result+="&lt;td>&lt;button type='button' class='caption-icons-icon justit bstatus "+status+"'>&lt;/button>&lt;/td>";
    return result;
    //return "&lt;td class='tcode'>&lt;a href='#detail/"+detail+"' >"+ a.MATNR +"&lt;/a>&lt;/td>";
    //return "&lt;td>&lt;a href='#detail/"+detail+"' >"+ a.MAKTX +"&lt;/td>&lt;td class='tcode'>&lt;a href='#detail/"+detail+"' >"+ a.MATNR +"&lt;/a>&lt;/td>";
  }
});</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		DocStrap Copyright © 2012-2014 The contributors to the JSDoc3 and DocStrap projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0</a>
		on Thu Jul 16th 2015 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
